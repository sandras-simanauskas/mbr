LOCAL	NUMBER
LIT	0
	SUB
JS	.THEN
JMP	NATURAL
LOCAL	.THEN
	NOT
LIT	1
	ADD
LIT	'-'
CALL	CHARACTER

LOCAL	NATURAL
	DUP
LIT	2
	SUB
	DROP
JS	.THEN
	DUP
	SHIFTR
CALL	NATURAL
LOCAL	.THEN
LIT	1
	AND
LIT	'0'
	OR
CALL	CHARACTER
	RET

LOCAL	BYTE_STORE
	DUP
	PUSH
	FETCH
LIT	0xFFFFFFFFFFFFFF00
	AND	
	OR
	PULL
	STORE
	RET

LOCAL	CHARACTER
LIT	0x00000000000B8000
LIT	X
	FETCH
LIT	Y
	FETCH
LIT	160
	MUL
	ADD
	ADD
CALL	BYTE_STORE
LIT	X
	FETCH
LIT	158
	SUB
	DROP
JNS	LINE
LIT	X
	FETCH
LIT	2
	ADD
LIT	X
	STORE
	RET

LOCAL	LINE
LIT	0
LIT	X
	STORE
LIT	Y
	FETCH
LIT	24
	SUB
	DROP
JNS	PAGE
LIT	Y
	FETCH
LIT	1
	ADD
LIT	Y
	STORE
CALL	LINE
	RET

LOCAL	PAGE
LIT	0
LIT	Y
	STORE
CALL	CLEAR
	RET

LOCAL	STRING_PRINT
	DUP
	PUSH
LIT	8
	ADD
	PULL
	FETCH
LOCAL	.LOOP
	PUSH
	DUP
CALL	BYTE_FETCH
CALL	CHARACTER
LIT	1
	ADD
	PULL
LIT	1
	SUB
JNZ	.LOOP
	RET

LOCAL	CLEAR
LIT	0x7020702070207020
LIT	Y
	FETCH
LIT	160
	MUL
LIT	0x00000000000B8000
	ADD
LIT	20
LOCAL	.LOOP
	PUSH
	OVER
	OVER
	STORE
LIT	8
	ADD
	PULL
LIT	1
	SUB
JNZ	.LOOP
	RET

LOCAL	BLANK
LIT	0x7020702070207020
LIT	0x00000000000B8000
LIT	500
LOCAL	.LOOP
	PUSH
	OVER
	OVER
	STORE
LIT	8
	ADD
	PULL
LIT	1
	SUB
JNZ	.LOOP
	RET

LOCAL	BYTE_FETCH
	FETCH
LIT	0xFF
	AND
	RET

X:	dq 0				; Not more than 80.
Y:	dq 0				; Not more than 25.
